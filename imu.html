<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Web IMU</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family: Monospace;
				background-color: #000;
				color: #fff;
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>

	<body>
		<div id="sinfo">sensor</div>
		<script>
			init();
			function init() {
				console.log("init ");
				window.addEventListener('devicemotion', function(e){
					//console.log("==========devicemotion "+e);
					if(e!=null){
						/*console.log("devicemotion acceleration xyz="+e.acceleration.x+","+e.acceleration.y+","+e.acceleration.z);
						console.log("devicemotion accelerationIncludingGravity xyz="+e.accelerationIncludingGravity.x+","+e.accelerationIncludingGravity.y+","+e.accelerationIncludingGravity.z);
						console.log("devicemotion rotationRate alpha="+e.rotationRate.alpha+", beta="+e.rotationRate.beta+", gamma"+e.rotationRate.gamma);
						console.log("devicemotion interval ="+e.interval);*/
						var str = "[accel]<br> x:" + e.acceleration.x + "<br> y:" + e.acceleration.y + "<br> z:" + e.acceleration.z;
            			str += "<br>[gyro]<br> x:" + e.rotationRate.alpha + "<br> y:" + e.rotationRate.beta + "<br> z:" + e.rotationRate.gamma;
            			//str += "\n[magnet]\n x:" + magnet.x + "\n y:" + magnet.y + "\n z:" + magnet.z;
						document.getElementById("sinfo").innerHTML = str;
					}
				}); 

				/*var sensor = new Magnetometer();
				sensor.start();

				sensor.onreading = () => {
				    console.log("Magnetic field along the X-axis " + sensor.x);
				    console.log("Magnetic field along the Y-axis " + sensor.y);
				    console.log("Magnetic field along the Z-axis " + sensor.z);
				};

				sensor.onerror = event => console.log(event.error.name, event.error.message);

				*/
				window.addEventListener('orientationchange', function(e){
					console.log("orientationchange "+e);
				});
				window.addEventListener('deviceorientation', function(e){
					console.log("deviceorientation alpha="+e.alpha+",beta="+e.beta+",gamma="+e.gamma);
				});
			}
			
		</script>

	</body>
</html>